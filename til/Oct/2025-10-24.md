# TIL Template

## 날짜: 2025-10-24

### 스크럼
- 학습 목표 1 : 과제6 ERD 설계 마무리
- 학습 목표 2 : ERD 데이터 타입 정리

### 새로 배운 내용
#### 주제 1: 식별 vs 비식별 관계
- 식별관계에서 부모와 자식의 키를 모두 가진 복합키가 기본키가 될 경우,관련 복합 인덱스 생성 시 컬럼 순서로 인해 조회 성능이 크게 떨어질 수 있다.
- 자식의 인조키를 만들어 인덱싱을 위한 기본키로 활용하고 부모키는 외래키로 참조만 하는 경우가 많다.

#### 주제 2: Integer vs Long
- null체크를 위해 원시타입은 활용할 수 없다.
- Long을 Integer보다 많이 활용하는 이유는 데이터 타입 변경여부에 대해 고민할 필요가없기 때문인데, 42억개까지 Entity를 생성할 일은 없는 경우가 많으므로 규모가 크지않은 서비스에 Integer를 적극 활용해봐도 좋을 것 같다.

#### 주제 3: VARCHAR vs TEXT
- 두 가지 타입 모두 일정 크기 이상이되면 Off-Page로 동작한다. 즉 내부에 데이터가 저장되지않고 포인터가 저장되어 외부 저장소에 실제 데이터가 저장된다.
- TEXT타입은 크기가 정해져있지않아 메모리 공간에 버퍼를 미리 할당받을 수가 없어 활용때마다 할당받고 해제하는 과정을 진행해야해서 데이터를 자주 읽고쓰는 객체에는 적합하지않다.

### 오늘의 도전 과제와 해결 방법
- 도전 과제 1: ERD 작성 완료하기 / 설계된 Entity가 저장되는 데이터 형식을 정의 해야한다.
- 도전 과제 2: 데이터 타입 정리하기 / 평소에 맹목적으로 쓰던 자료형들을 왜 쓰이는지 이유를 찾아야한다.

### 오늘의 회고
- 오늘 성공적으로 인덱스 성능 측정에 성공했습니다.
- 평소에 맹목적으로 사용하던 데이터베이스 자료형에 대해 되돌아보고 사용이유를 곱씹어 볼 수 있었던 시간이었던 것 같습니다.
- 인덱스 측정 중 복합 인덱스에서 카디널리티가 낮은 컬럼을 앞에 뒀음에도 카디널리티가 높은 컬럼을 앞에 뒀을 때랑 수행 시간이 큰 차이 없이 측정되어서 원인을 되짚어보려합니다.

### 참고 자료 및 링크
- [MySQL DB 내부에서의 데이터타입](https://lavender-peridot-14c.notion.site/MySQL-DB-2965c02b8af9800590eada72e073dba8?source=copy_link) (블로그 링크로 변경 예정)
- [카디널리티와 쿼리 성능의 관계](https://lavender-peridot-14c.notion.site/2965c02b8af9807583cadff07e3154ab?source=copy_link) (블로그 링크로 변경 예정)